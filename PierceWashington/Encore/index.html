<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intelligent Advisor JS Embed Example</title>
    <link rel="shortcut icon" href="https://www.oracle.com/favicon.ico" />
    <link rel="stylesheet" href="./app.css">
    <script src="https://sc-rsurujbhan-opa.rightnowdemo.com/web-determinations/staticresource/interviews.js"></script>
</head>

<body>
    <div class="container">

        <header>
            <!-- header -->
        </header>

        <div class="mainWrapper">
            <div id="loader" class="center">
                <h2>Loading... Please wait...</h2>
                <img src="./ora_ajax_loader.gif" alt="loading">
            </div>

            <div id="embeddedInterview">
                <!-- IA interview will go here -->
            </div>
        </div>

        <footer>
            <!-- footer -->
        </footer>

    </div>

    <script>
        
        const interviewElem = document.getElementById("embeddedInterview");
        const loaderElem = document.getElementById("loader");

        const webDeterminationsUrl = "https://sc-rsurujbhan-opa.rightnowdemo.com/web-determinations";

        const onLoadHandler = (interview) => {
            loaderElem.classList.add("hidden");
            interviewElem.classList.add("interview");
        }

        const interviews = [
            {
                operation: "start",
                el: interviewElem,
                deploymentName: "EncoreEventsDev",
                locale: "en-US",
                disableEnforcedStyling: true,
                loadCustomizations: true,
                onLoad: onLoadHandler
            }
        ];

        // TODO: remove delay in milliseconds
        setTimeout(() => {
            OraclePolicyAutomationInterview.BatchStartOrResume(webDeterminationsUrl, interviews);
        }, 3500);

    </script>

</body>
</html>
